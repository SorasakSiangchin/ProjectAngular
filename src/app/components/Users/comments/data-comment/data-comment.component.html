<div class="m-12">
    <div class="example-container mat-elevation-z8">
        <div class="example-loading-shade" *ngIf="isLoadingResults || isRateLimitReached">
            <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
            <div class="example-rate-limit-reached" *ngIf="isRateLimitReached">
                GitHub's API rate limit has been reached. It will be reset in one minute.
            </div>
        </div>

        <div class="example-table-container">

            <table mat-table [dataSource]="DataComment" class="example-table table-hover" matSort
                matSortActive="created" matSortDisableClear matSortDirection="desc">
                <!-- Number Column -->
                <ng-container matColumnDef="id" >
                    <th mat-header-cell *matHeaderCellDef class="armfont01">ไอดี</th>
                    <td mat-cell *matCellDef="let row" class="armfont01">{{row.id|slice:0:9}}...</td>
                </ng-container>



                <!-- State Column -->
                <ng-container matColumnDef="date">
                    <th mat-header-cell *matHeaderCellDef class="text-center armfont01">วันที่ส่ง</th>
                    <td mat-cell *matCellDef="let row" class="text-center armfont01">{{row.date|date}}</td>
                </ng-container>
                <!-- State Column -->
                <ng-container matColumnDef="dataComment">
                    <th mat-header-cell *matHeaderCellDef class="text-center armfont01">ข้อความที่ส่ง</th>
                    <td mat-cell *matCellDef="let row" class="text-center armfont01">{{row.dataComment}}</td>
                </ng-container>
                <!-- State Column -->
                <ng-container matColumnDef="image">
                    <th mat-header-cell *matHeaderCellDef class="text-center armfont01">รูปภาพที่ส่ง</th>
                    <td mat-cell *matCellDef="let row" class="d-flex justify-content-center armfont01">
                        <img class="imgSize m-2" src="{{row.image}}?timestamp={{timestamp}}" width="30%" alt="">
                    </td>
                </ng-container>
                <!-- State Column -->
                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef class="text-center armfont01">มีทั้งหมด {{DataComment.length}} รายการ
                    </th>
                    <td mat-cell *matCellDef="let row" class="text-center">
                        <div>
                            <button mat-stroked-button (click)="DetailComment(row)" color="primary">
                                <mat-icon>description</mat-icon>
                            </button>
                            <button mat-stroked-button (click)="DeleteComment(row.id)" color="warn" class="ml-2">
                                <mat-icon>delete_forever</mat-icon>
                            </button>
                            <button *ngIf="row.adminComment" mat-stroked-button (click)="DataCommentAdmin(row)" color="accent" class="ml-2">
                                <mat-icon>chat_bubble_outline</mat-icon>
                            </button>
                        </div>
                    </td>
                </ng-container>
                <!-- Created Column -->
                <ng-container matColumnDef="created">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>
                        Created
                    </th>
                    <td mat-cell *matCellDef="let row">{{row.created_at | date}}</td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </div>

        <mat-paginator [length]="resultsLength" [pageSize]="5" aria-label="Select page of GitHub search results">
        </mat-paginator>
    </div>
</div>